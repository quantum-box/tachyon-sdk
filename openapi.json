{
  "openapi": "3.1.0",
  "info": {
    "title": "Tachyon API",
    "description": "Tachyon Platform REST API",
    "version": "0.48.0"
  },
  "paths": {
    "/auth/v1beta/sign-in-with-platform": {
      "post": {
        "tags": [
          "Auth - Verify"
        ],
        "operationId": "sign_in_with_platform",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SignInWithPlatformRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "User signed in or created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SignInWithPlatformResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/auth/v1beta/users": {
      "post": {
        "tags": [
          "Auth - Users"
        ],
        "operationId": "create_user",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateUserRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "User created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreateUserResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/auth/v1beta/verify": {
      "post": {
        "tags": [
          "Auth - Verify"
        ],
        "operationId": "verify",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/VerifyRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VerifyResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/oauth/{provider_name}/callback": {
      "get": {
        "tags": [
          "oauth"
        ],
        "summary": "OAuth callback handler for specified provider",
        "operationId": "callback",
        "parameters": [
          {
            "name": "provider_name",
            "in": "path",
            "description": "OAuth provider name",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "code",
            "in": "query",
            "description": "Authorization code from provider",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "state",
            "in": "query",
            "description": "State parameter for CSRF protection",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully connected to provider",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OAuthCallbackResponse"
                }
              }
            }
          },
          "400": {
            "description": "Failed to exchange code for token"
          }
        }
      }
    },
    "/oauth/{provider_name}/connect": {
      "get": {
        "tags": [
          "oauth"
        ],
        "summary": "Get OAuth authorization URL for specified provider",
        "operationId": "connect",
        "parameters": [
          {
            "name": "provider_name",
            "in": "path",
            "description": "OAuth provider name",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully generated authorization URL",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthUrlResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/auth/actions": {
      "get": {
        "tags": [
          "Auth - Policies"
        ],
        "summary": "List all registered actions",
        "operationId": "list_actions",
        "parameters": [
          {
            "name": "context",
            "in": "query",
            "description": "Filter by context",
            "required": false,
            "schema": {
              "type": [
                "string",
                "null"
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Action list",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ActionListResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden"
          }
        }
      }
    },
    "/v1/auth/policies/check": {
      "post": {
        "tags": [
          "Auth - Policies"
        ],
        "summary": "Evaluate multiple policy actions in batch",
        "operationId": "evaluate_policies_batch",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EvaluatePoliciesBatchRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Evaluation results",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EvaluatePoliciesBatchResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          }
        }
      }
    },
    "/v1/auth/policies/{id}": {
      "get": {
        "tags": [
          "Auth - Policies"
        ],
        "summary": "Get a policy by ID",
        "operationId": "get_policy",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Policy ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Policy found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PolicyResponse"
                }
              }
            }
          },
          "404": {
            "description": "Policy not found"
          }
        }
      }
    },
    "/v1/auth/service-accounts": {
      "get": {
        "tags": [
          "Auth - Service Accounts"
        ],
        "summary": "List all service accounts",
        "operationId": "list_service_accounts",
        "parameters": [
          {
            "name": "operator_id",
            "in": "query",
            "description": "Operator ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Service account list",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ServiceAccountListResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden"
          }
        }
      },
      "post": {
        "tags": [
          "Auth - Service Accounts"
        ],
        "summary": "Create a new service account",
        "operationId": "create_service_account",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateServiceAccountRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Service account created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ServiceAccountResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          },
          "403": {
            "description": "Forbidden"
          }
        }
      }
    },
    "/v1/auth/service-accounts/{id}": {
      "get": {
        "tags": [
          "Auth - Service Accounts"
        ],
        "summary": "Get a service account by ID",
        "operationId": "get_service_account",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Service account ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "operator_id",
            "in": "query",
            "description": "Operator ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Service account found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ServiceAccountResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not found"
          }
        }
      },
      "put": {
        "tags": [
          "Auth - Service Accounts"
        ],
        "summary": "Update a service account",
        "operationId": "update_service_account",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Service account ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateServiceAccountRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Service account updated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ServiceAccountResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not found"
          }
        }
      },
      "delete": {
        "tags": [
          "Auth - Service Accounts"
        ],
        "summary": "Delete a service account",
        "operationId": "delete_service_account",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Service account ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Service account deleted",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DeleteServiceAccountResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not found"
          }
        }
      }
    },
    "/v1/auth/service-accounts/{service_account_id}/api-keys": {
      "get": {
        "tags": [
          "Auth - API Keys"
        ],
        "summary": "List API keys for a service account",
        "operationId": "list_api_keys",
        "parameters": [
          {
            "name": "service_account_id",
            "in": "path",
            "description": "Service account ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "operator_id",
            "in": "query",
            "description": "Operator ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "API key list",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiKeyListResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden"
          }
        }
      },
      "post": {
        "tags": [
          "Auth - API Keys"
        ],
        "summary": "Create a new API key for a service account",
        "operationId": "create_api_key",
        "parameters": [
          {
            "name": "service_account_id",
            "in": "path",
            "description": "Service account ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateApiKeyRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "API key created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiKeyResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          },
          "403": {
            "description": "Forbidden"
          }
        }
      }
    },
    "/v1/auth/users": {
      "get": {
        "tags": [
          "Auth - Users"
        ],
        "summary": "List all users in an operator",
        "operationId": "list_users",
        "parameters": [
          {
            "name": "operator_id",
            "in": "query",
            "description": "Operator ID to list users for",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "User list",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserListResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          },
          "403": {
            "description": "Forbidden"
          }
        }
      }
    },
    "/v1/auth/users/{id}": {
      "get": {
        "tags": [
          "Auth - Users"
        ],
        "summary": "Get a user by ID",
        "operationId": "get_user",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "User ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "User found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            }
          },
          "404": {
            "description": "User not found"
          }
        }
      }
    },
    "/v1/crm/object-mappings": {
      "get": {
        "tags": [
          "CRM - Object Mappings"
        ],
        "summary": "Get object mappings by entity ID and object name",
        "operationId": "get_object_mappings",
        "parameters": [
          {
            "name": "entity_id",
            "in": "query",
            "description": "Entity ID to look up",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "object_name",
            "in": "query",
            "description": "Object type (Deal, Product, etc.)",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Object mapping list",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ObjectMappingListResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "CRM - Object Mappings"
        ],
        "summary": "Create an object mapping",
        "operationId": "create_object_mapping",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateObjectMappingRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Object mapping created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ObjectMappingResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/delivery/shipping-destinations": {
      "post": {
        "tags": [
          "Delivery - Shipping"
        ],
        "summary": "Create a shipping destination",
        "operationId": "create_shipping_destination",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateShippingDestinationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Shipping destination created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ShippingDestinationResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/delivery/shipping-destinations/{id}/availability": {
      "get": {
        "tags": [
          "Delivery - Shipping"
        ],
        "summary": "Check physical shipping availability",
        "operationId": "check_shipping_availability",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Shipping destination ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Availability check result",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ShippingAvailabilityResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/delivery/software/by-order/{order_id}": {
      "get": {
        "tags": [
          "Delivery - Software"
        ],
        "summary": "Get software delivery by order ID",
        "operationId": "get_software_delivery_by_order",
        "parameters": [
          {
            "name": "order_id",
            "in": "path",
            "description": "Purchase order ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Software delivery found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SoftwareDeliveryResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/feature-flags/actions/evaluate": {
      "post": {
        "tags": [
          "feature_flags"
        ],
        "summary": "TODO: add English documentation",
        "operationId": "evaluate_actions",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EvaluateActionsRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "\u8a55\u4fa1\u7d50\u679c",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EvaluateActionsResponse"
                }
              }
            }
          },
          "400": {
            "description": "\u4e0d\u6b63\u306a\u5165\u529b",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "\u8a8d\u8a3c\u30a8\u30e9\u30fc",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "\u6a29\u9650\u4e0d\u8db3",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "\u5185\u90e8\u30a8\u30e9\u30fc",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/llms/chat/completions": {
      "post": {
        "tags": [
          "chat"
        ],
        "summary": "Create a chat completion",
        "description": "Creates a model response for the given chat conversation.",
        "operationId": "chat_completion",
        "parameters": [
          {
            "name": "x-operator-id",
            "in": "header",
            "description": "Operator ID",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "tn_xxxxxx"
          },
          {
            "name": "Authorization",
            "in": "header",
            "description": "Authorization",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "Bearer xxxxx"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ChatCompletionRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Streaming Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChatCompletionChunkResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/llms/chatrooms": {
      "get": {
        "tags": [],
        "summary": "Get chatrooms list",
        "operationId": "get_chatrooms",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "description": "Maximum number of chatrooms to return (default: 20, max: 100)",
            "required": false,
            "schema": {
              "type": [
                "integer",
                "null"
              ],
              "format": "int32",
              "minimum": 0
            }
          },
          {
            "name": "offset",
            "in": "query",
            "description": "Number of chatrooms to skip for pagination",
            "required": false,
            "schema": {
              "type": [
                "integer",
                "null"
              ],
              "format": "int32",
              "minimum": 0
            }
          },
          {
            "name": "search",
            "in": "query",
            "description": "Search chatrooms by name (partial match)",
            "required": false,
            "schema": {
              "type": [
                "string",
                "null"
              ]
            }
          },
          {
            "name": "metadata_user_id",
            "in": "query",
            "description": "Filter chatrooms by `user_id` stored in metadata JSON.\nUse this to retrieve chatrooms associated with a specific external user\n(e.g., LINE user ID). Only chatrooms where `metadata.user_id` matches\nexactly will be returned.",
            "required": false,
            "schema": {
              "type": [
                "string",
                "null"
              ]
            }
          },
          {
            "name": "x-operator-id",
            "in": "header",
            "description": "Operator ID",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "tn_xxxxxx"
          },
          {
            "name": "Authorization",
            "in": "header",
            "description": "Authorization",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "Bearer xxxxx"
          }
        ],
        "responses": {
          "200": {
            "description": "Chatrooms retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetChatroomsResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "chatroom"
        ],
        "summary": "Create a new chatroom",
        "description": "Creates a new chatroom for the authenticated user.",
        "operationId": "create_chatroom",
        "parameters": [
          {
            "name": "x-operator-id",
            "in": "header",
            "description": "Operator ID",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "tn_xxxxxx"
          },
          {
            "name": "Authorization",
            "in": "header",
            "description": "Authorization",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "Bearer xxxxx"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateChatRoomRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Chatroom created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreateChatRoomResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/llms/chatrooms/{chatroom_id}": {
      "delete": {
        "tags": [
          "chatroom"
        ],
        "summary": "Delete a chatroom",
        "operationId": "delete_chatroom",
        "parameters": [
          {
            "name": "chatroom_id",
            "in": "path",
            "description": "Chatroom ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "x-operator-id",
            "in": "header",
            "description": "Operator ID",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "tn_xxxxxx"
          },
          {
            "name": "Authorization",
            "in": "header",
            "description": "Authorization",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "Bearer xxxxx"
          }
        ],
        "responses": {
          "204": {
            "description": "Chatroom deleted successfully"
          },
          "400": {
            "description": "Invalid chatroom ID format"
          },
          "404": {
            "description": "Chatroom not found"
          }
        }
      },
      "patch": {
        "tags": [
          "chatroom"
        ],
        "summary": "Update a chatroom",
        "operationId": "update_chatroom",
        "parameters": [
          {
            "name": "chatroom_id",
            "in": "path",
            "description": "Chatroom ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "x-operator-id",
            "in": "header",
            "description": "Operator ID",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "tn_xxxxxx"
          },
          {
            "name": "Authorization",
            "in": "header",
            "description": "Authorization",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "Bearer xxxxx"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateChatroomRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Chatroom updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UpdateChatroomResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid chatroom ID or request"
          },
          "404": {
            "description": "Chatroom not found"
          }
        }
      }
    },
    "/v1/llms/chatrooms/{chatroom_id}/agent/execute": {
      "post": {
        "tags": [
          "agent"
        ],
        "summary": "Execute agent",
        "description": "Execute a task using the agent system. Returns an SSE\nstream of `AgentChunk` events.\n\n## Client-Side Tools\n\nYou can provide custom tool definitions via the\n`client_tools` field. When the LLM decides to call one\nof these tools, the server emits a `tool_call_pending`\nSSE event containing the tool name, arguments, and a\nunique `tool_id`. The client should:\n\n1. Execute the tool locally using the provided arguments\n2. Submit the result via\n   `POST /v1/llms/chatrooms/{chatroom_id}/agent/tool-result`\n   with the matching `tool_id`\n3. The agent resumes processing with the tool result\n\nFor **fire-and-forget** tools (`fire_and_forget: true`),\nthe server immediately returns a success message to the\nLLM without waiting for a result submission. The client\nstill receives the `tool_call_pending` event and can\nexecute the tool, but does not need to submit a result.\n\nTool names must not collide with server built-in tools\n(e.g. `read_file`, `execute_command`). The server\nvalidates this and returns an error if a collision is\ndetected.\n\nWhen `client_tools` is provided, JSON tool call mode\nis automatically enabled \u2014 you do not need to set\n`use_json_tool_calls` separately.",
        "operationId": "execute_agent",
        "parameters": [
          {
            "name": "chatroom_id",
            "in": "path",
            "description": "Chatroom ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "x-operator-id",
            "in": "header",
            "description": "Operator ID",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "tn_xxxxxx"
          },
          {
            "name": "Authorization",
            "in": "header",
            "description": "Authorization",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "Bearer xxxxx"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AgentExecuteRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "SSE stream of AgentChunk events. The stream ends with a `done` event.",
            "content": {
              "text/event-stream": {
                "schema": {
                  "$ref": "#/components/schemas/AgentChunk"
                },
                "examples": {
                  "Ask": {
                    "value": {
                      "options": [
                        "Option 1",
                        "Option 2"
                      ],
                      "text": "What would you like me to do next?",
                      "type": "ask"
                    }
                  },
                  "AttemptCompletion": {
                    "value": {
                      "command": "ls -la",
                      "result": "Task completed successfully.",
                      "type": "attempt_completion"
                    }
                  },
                  "Say": {
                    "value": {
                      "index": 0,
                      "text": "I'll help you with that task.",
                      "type": "say"
                    }
                  },
                  "Thinking": {
                    "value": {
                      "index": 0,
                      "is_finished": false,
                      "text": "Let me think about this...",
                      "type": "thinking"
                    }
                  },
                  "ToolCall": {
                    "value": {
                      "tool_id": "t_123",
                      "tool_name": "calculator",
                      "type": "tool_call"
                    }
                  },
                  "ToolCallArgs": {
                    "value": {
                      "args": {
                        "query": "weather in Tokyo"
                      },
                      "tool_id": "t_123",
                      "type": "tool_call_args"
                    }
                  },
                  "ToolCallPending": {
                    "value": {
                      "args": {
                        "channel": "#general",
                        "text": "Hello!"
                      },
                      "fire_and_forget": false,
                      "tool_id": "ct_abc123",
                      "tool_name": "send_slack_message",
                      "type": "tool_call_pending"
                    }
                  },
                  "ToolResult": {
                    "value": {
                      "is_finished": true,
                      "result": "42",
                      "tool_id": "t_123",
                      "type": "tool_result"
                    }
                  },
                  "Usage": {
                    "value": {
                      "completion_tokens": 50,
                      "prompt_tokens": 150,
                      "total_tokens": 200,
                      "type": "usage"
                    }
                  },
                  "User": {
                    "value": {
                      "created_at": "2024-03-20T10:00:00Z",
                      "id": "msg_123",
                      "text": "Hello, how can you help me?",
                      "type": "user",
                      "user_id": "user_456"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/v1/llms/chatrooms/{chatroom_id}/agent/messages": {
      "get": {
        "tags": [
          "agent"
        ],
        "summary": "Get agent message log",
        "description": "Get agent message log for specified chatroom.",
        "operationId": "get_agent_messages",
        "parameters": [
          {
            "name": "chatroom_id",
            "in": "path",
            "description": "\u30c1\u30e3\u30c3\u30c8\u30eb\u30fc\u30e0ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "\u53d6\u5f97\u3059\u308b\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u6700\u5927\u6570",
            "required": false,
            "schema": {
              "type": [
                "integer",
                "null"
              ],
              "format": "int32",
              "minimum": 0
            }
          },
          {
            "name": "offset",
            "in": "query",
            "description": "\u53d6\u5f97\u958b\u59cb\u4f4d\u7f6e",
            "required": false,
            "schema": {
              "type": [
                "integer",
                "null"
              ],
              "format": "int32",
              "minimum": 0
            }
          },
          {
            "name": "x-operator-id",
            "in": "header",
            "description": "Operator ID",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "tn_xxxxxx"
          },
          {
            "name": "Authorization",
            "in": "header",
            "description": "Authorization",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "Bearer xxxxx"
          }
        ],
        "responses": {
          "200": {
            "description": "\u30e1\u30c3\u30bb\u30fc\u30b8\u30ed\u30b0\u306e\u53d6\u5f97\u306b\u6210\u529f",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AgentMessagesResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/llms/chatrooms/{chatroom_id}/agent/status": {
      "get": {
        "tags": [
          "agent"
        ],
        "summary": "Get agent status",
        "description": "Get execution status of agent for specified chatroom.",
        "operationId": "get_agent_status",
        "parameters": [
          {
            "name": "chatroom_id",
            "in": "path",
            "description": "Chatroom ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "x-operator-id",
            "in": "header",
            "description": "Operator ID",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "tn_xxxxxx"
          },
          {
            "name": "Authorization",
            "in": "header",
            "description": "Authorization",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "Bearer xxxxx"
          }
        ],
        "responses": {
          "200": {
            "description": "\u6210\u529f\u30ec\u30b9\u30dd\u30f3\u30b9",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AgentStatusResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/llms/chatrooms/{chatroom_id}/chat/completions": {
      "post": {
        "tags": [
          "chat"
        ],
        "summary": "Create a chat completion within a chatroom",
        "description": "Creates a model response for the given chat conversation in a specific chatroom.",
        "operationId": "chat_completion_on_chatroom",
        "parameters": [
          {
            "name": "chatroom_id",
            "in": "path",
            "description": "Chatroom ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "x-operator-id",
            "in": "header",
            "description": "Operator ID",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "tn_xxxxxx"
          },
          {
            "name": "Authorization",
            "in": "header",
            "description": "Authorization",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "Bearer xxxxx"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ChatCompletionRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChatCompletionWithChatroomStreamResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/llms/chatrooms/{chatroom_id}/messages": {
      "get": {
        "tags": [],
        "summary": "Get messages from a chatroom",
        "operationId": "get_chatroom_messages",
        "parameters": [
          {
            "name": "chatroom_id",
            "in": "path",
            "description": "Chatroom ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Limit",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32",
              "minimum": 0
            }
          },
          {
            "name": "offset",
            "in": "query",
            "description": "Offset",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32",
              "minimum": 0
            }
          },
          {
            "name": "search",
            "in": "query",
            "description": "Search",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "x-operator-id",
            "in": "header",
            "description": "Operator ID",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "tn_xxxxxx"
          },
          {
            "name": "Authorization",
            "in": "header",
            "description": "Authorization",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "Bearer xxxxx"
          }
        ],
        "responses": {
          "200": {
            "description": "Messages retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChatroomsChatroomIdMessagesGetResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/llms/models": {
      "get": {
        "tags": [
          "models"
        ],
        "summary": "Get list of supported models",
        "description": "Get list of all LLM models available for agents.",
        "operationId": "get_models",
        "parameters": [
          {
            "name": "supported_feature",
            "in": "query",
            "description": "TODO: add English documentation",
            "required": false,
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          {
            "name": "require_agent_product",
            "in": "query",
            "description": "TODO: add English documentation",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "x-operator-id",
            "in": "header",
            "description": "Operator ID",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "tn_xxxxxx"
          },
          {
            "name": "Authorization",
            "in": "header",
            "description": "Authorization",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "Bearer xxxxx"
          }
        ],
        "responses": {
          "200": {
            "description": "\u30e2\u30c7\u30eb\u4e00\u89a7\u306e\u53d6\u5f97\u306b\u6210\u529f",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ModelsResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/order/checkout": {
      "post": {
        "tags": [
          "Order - Checkout"
        ],
        "summary": "Process payment checkout for a quote",
        "operationId": "process_checkout",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CheckoutRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Checkout session created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CheckoutResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "402": {
            "description": "Payment required",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/order/clients": {
      "get": {
        "tags": [
          "Order - Clients"
        ],
        "summary": "List all clients",
        "operationId": "list_clients",
        "responses": {
          "200": {
            "description": "Client list",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ClientListResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Order - Clients"
        ],
        "summary": "Create a new client",
        "operationId": "create_client",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateClientRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Client created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ClientResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/order/clients/{id}": {
      "get": {
        "tags": [
          "Order - Clients"
        ],
        "summary": "Get a client by ID",
        "operationId": "get_client",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Client ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Client found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ClientResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/order/products": {
      "get": {
        "tags": [
          "Order - Products"
        ],
        "summary": "List all products with pagination",
        "operationId": "list_products",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "description": "Max items to return",
            "required": false,
            "schema": {
              "type": [
                "integer",
                "null"
              ],
              "format": "int32"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "description": "Items to skip",
            "required": false,
            "schema": {
              "type": [
                "integer",
                "null"
              ],
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Product list",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProductListResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Order - Products"
        ],
        "summary": "Create a new product",
        "operationId": "create_product",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateProductRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Product created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProductResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/order/products/{id}": {
      "get": {
        "tags": [
          "Order - Products"
        ],
        "summary": "Get a product by ID",
        "operationId": "get_product",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Product ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Product found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProductResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Order - Products"
        ],
        "summary": "Update a product by ID",
        "operationId": "update_product",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Product ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateProductRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Product updated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProductResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Order - Products"
        ],
        "summary": "Delete a product by ID",
        "operationId": "delete_product",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Product ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Product deleted",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DeleteProductResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/order/purchase-orders": {
      "get": {
        "tags": [
          "Order - Purchase Orders"
        ],
        "summary": "List all purchase orders",
        "operationId": "list_purchase_orders",
        "responses": {
          "200": {
            "description": "Purchase order list",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PurchaseOrderListResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/order/purchase-orders/{id}": {
      "get": {
        "tags": [
          "Order - Purchase Orders"
        ],
        "summary": "Get a purchase order by ID",
        "operationId": "get_purchase_order",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Purchase order ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Purchase order found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PurchaseOrderResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/order/quotes": {
      "get": {
        "tags": [
          "Order - Quotes"
        ],
        "summary": "List all quotes",
        "operationId": "list_quotes",
        "responses": {
          "200": {
            "description": "Quote list",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/QuoteListResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Order - Quotes"
        ],
        "summary": "Create a new quote",
        "operationId": "create_quote",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateQuoteRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Quote created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/QuoteResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/order/quotes/{id}": {
      "get": {
        "tags": [
          "Order - Quotes"
        ],
        "summary": "Get a quote by ID",
        "operationId": "get_quote",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Quote ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Quote found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/QuoteResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/order/quotes/{id}/issue": {
      "post": {
        "tags": [
          "Order - Quotes"
        ],
        "summary": "Issue a quote to a client",
        "operationId": "issue_quote",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Quote ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/IssueQuoteRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Quote issued",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/QuoteResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/order/shipping-destinations": {
      "post": {
        "tags": [
          "Order - Shipping"
        ],
        "summary": "Register a shipping destination for a quote",
        "operationId": "register_shipping_destination",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RegisterShippingDestinationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Shipping destination registered",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ShippingDestinationResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "ActionEvaluationRequest": {
        "type": "object",
        "description": "Action evaluation input",
        "required": [
          "action"
        ],
        "properties": {
          "action": {
            "type": "string",
            "description": "Action ID registered in policy/feature flag"
          },
          "resourcePattern": {
            "type": [
              "string",
              "null"
            ],
            "description": "Resource scope specification (wildcards allowed)"
          }
        }
      },
      "ActionEvaluationResult": {
        "type": "object",
        "description": "Evaluation result for each action",
        "required": [
          "action",
          "context",
          "featureEnabled",
          "policyAllowed"
        ],
        "properties": {
          "action": {
            "type": "string",
            "description": "Target action"
          },
          "context": {
            "type": "string",
            "description": "Context used for evaluation (tenant info, etc.)"
          },
          "featureEnabled": {
            "type": "boolean",
            "description": "Whether Feature Flag is enabled"
          },
          "featureError": {
            "type": [
              "string",
              "null"
            ],
            "description": "Error message during Feature Flag evaluation"
          },
          "policyAllowed": {
            "type": "boolean",
            "description": "Whether allowed by Policy"
          },
          "policyError": {
            "type": [
              "string",
              "null"
            ],
            "description": "Error message during Policy evaluation"
          }
        }
      },
      "ActionListResponse": {
        "type": "object",
        "description": "Response for action list",
        "required": [
          "actions",
          "totalCount"
        ],
        "properties": {
          "actions": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ActionResponse"
            }
          },
          "totalCount": {
            "type": "integer",
            "minimum": 0
          }
        }
      },
      "ActionResponse": {
        "type": "object",
        "description": "Response for an action",
        "required": [
          "id",
          "context",
          "name",
          "fullName"
        ],
        "properties": {
          "context": {
            "type": "string"
          },
          "description": {
            "type": [
              "string",
              "null"
            ]
          },
          "fullName": {
            "type": "string"
          },
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "resourcePattern": {
            "type": [
              "string",
              "null"
            ]
          }
        }
      },
      "AddressRequest": {
        "type": "object",
        "description": "Address input",
        "required": [
          "postalCode",
          "state",
          "city",
          "address1"
        ],
        "properties": {
          "address1": {
            "type": "string",
            "description": "Address line 1"
          },
          "address2": {
            "type": [
              "string",
              "null"
            ],
            "description": "Address line 2"
          },
          "city": {
            "type": "string",
            "description": "City"
          },
          "postalCode": {
            "type": "string",
            "description": "Postal code"
          },
          "state": {
            "type": "string",
            "description": "State/Prefecture"
          }
        }
      },
      "AddressResponse": {
        "type": "object",
        "description": "Address response",
        "required": [
          "state",
          "city",
          "address1"
        ],
        "properties": {
          "address1": {
            "type": "string",
            "description": "Address line 1"
          },
          "address2": {
            "type": [
              "string",
              "null"
            ],
            "description": "Address line 2"
          },
          "city": {
            "type": "string",
            "description": "City"
          },
          "postalCode": {
            "type": [
              "string",
              "null"
            ],
            "description": "Postal code"
          },
          "state": {
            "type": "string",
            "description": "State/Prefecture"
          }
        }
      },
      "AgentChunk": {
        "allOf": [
          {
            "$ref": "#/components/schemas/AgentChunkEvent"
          },
          {
            "type": "object",
            "properties": {
              "agent": {
                "oneOf": [
                  {
                    "type": "null"
                  },
                  {
                    "$ref": "#/components/schemas/AgentSource"
                  }
                ]
              }
            }
          }
        ],
        "description": "A streaming chunk with optional agent metadata.\n\nWhen `agent` is `None`, the chunk originates from\nthe main agent. When `Some`, it was relayed from a\nsub-agent."
      },
      "AgentChunkEvent": {
        "oneOf": [
          {
            "allOf": [
              {
                "$ref": "#/components/schemas/ToolCall",
                "description": "Tool call initiation"
              },
              {
                "type": "object",
                "required": [
                  "type"
                ],
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "tool_call"
                    ]
                  }
                }
              }
            ],
            "description": "Tool call initiation"
          },
          {
            "allOf": [
              {
                "$ref": "#/components/schemas/ToolCallArgs",
                "description": "Tool call arguments"
              },
              {
                "type": "object",
                "required": [
                  "type"
                ],
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "tool_call_args"
                    ]
                  }
                }
              }
            ],
            "description": "Tool call arguments"
          },
          {
            "allOf": [
              {
                "$ref": "#/components/schemas/ToolResult",
                "description": "Tool execution result"
              },
              {
                "type": "object",
                "required": [
                  "type"
                ],
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "tool_result"
                    ]
                  }
                }
              }
            ],
            "description": "Tool execution result"
          },
          {
            "allOf": [
              {
                "$ref": "#/components/schemas/ToolCallPending",
                "description": "Tool call pending client-side execution"
              },
              {
                "type": "object",
                "required": [
                  "type"
                ],
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "tool_call_pending"
                    ]
                  }
                }
              }
            ],
            "description": "Tool call pending client-side execution"
          },
          {
            "allOf": [
              {
                "$ref": "#/components/schemas/Thinking",
                "description": "Thinking/reasoning content"
              },
              {
                "type": "object",
                "required": [
                  "type"
                ],
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "thinking"
                    ]
                  }
                }
              }
            ],
            "description": "Thinking/reasoning content"
          },
          {
            "allOf": [
              {
                "$ref": "#/components/schemas/Text",
                "description": "Say/text content"
              },
              {
                "type": "object",
                "required": [
                  "type"
                ],
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "say"
                    ]
                  }
                }
              }
            ],
            "description": "Say/text content"
          },
          {
            "allOf": [
              {
                "$ref": "#/components/schemas/UserMessage",
                "description": "User message"
              },
              {
                "type": "object",
                "required": [
                  "type"
                ],
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "user"
                    ]
                  }
                }
              }
            ],
            "description": "User message"
          },
          {
            "allOf": [
              {
                "$ref": "#/components/schemas/Ask",
                "description": "Follow-up question"
              },
              {
                "type": "object",
                "required": [
                  "type"
                ],
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "ask"
                    ]
                  }
                }
              }
            ],
            "description": "Follow-up question"
          },
          {
            "allOf": [
              {
                "$ref": "#/components/schemas/AttemptCompletionResult",
                "description": "Task completion attempt"
              },
              {
                "type": "object",
                "required": [
                  "type"
                ],
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "attempt_completion"
                    ]
                  }
                }
              }
            ],
            "description": "Task completion attempt"
          },
          {
            "allOf": [
              {
                "$ref": "#/components/schemas/Usage",
                "description": "Usage statistics"
              },
              {
                "type": "object",
                "required": [
                  "type"
                ],
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "usage"
                    ]
                  }
                }
              }
            ],
            "description": "Usage statistics"
          }
        ],
        "description": "Agent chunk event types for streaming responses."
      },
      "AgentExecuteRequest": {
        "type": "object",
        "description": "TODO: add English documentation",
        "required": [
          "task"
        ],
        "properties": {
          "additional_tool_description": {
            "type": [
              "string",
              "null"
            ],
            "description": "Additional description appended to each tool's help\ntext shown to the LLM."
          },
          "agent_protocol_id": {
            "type": [
              "string",
              "null"
            ],
            "description": "Optional AgentProtocol ID to use for this execution."
          },
          "agent_protocol_mode": {
            "$ref": "#/components/schemas/AgentProtocolMode",
            "description": "AgentProtocol selection mode."
          },
          "assistant_name": {
            "type": [
              "string",
              "null"
            ],
            "description": "Display name for the assistant in the conversation."
          },
          "auto_approve": {
            "type": "boolean",
            "description": "When true, the agent auto-approves tool executions\nwithout asking for confirmation."
          },
          "chatroom_name_generation": {
            "$ref": "#/components/schemas/ChatroomNameGeneration",
            "description": "Controls chatroom name auto-generation behavior.\n- `first_only` (default): Generate on first message only (regardless of current name)\n- `always`: Always attempt to generate/update name after each message\n- `never`: Never auto-generate chatroom name"
          },
          "client_tools": {
            "type": [
              "array",
              "null"
            ],
            "items": {
              "$ref": "#/components/schemas/ClientToolDefinition"
            },
            "description": "User-defined tools executed on the client side.\n\nEach tool must have a unique `name` that does not\ncollide with server built-in tool names. When the LLM\ncalls one of these tools, the server emits a\n`tool_call_pending` SSE event and blocks until the\nclient submits the result via\n`POST /v1/llms/chatrooms/{chatroom_id}/agent/tool-result`\n(timeout: 5 minutes).\n\nTools with `fire_and_forget: true` do not block \u2014 the\nserver immediately returns a success to the LLM and the\nclient can execute the tool asynchronously.\n\nExample:\n```json\n{\n  \"client_tools\": [\n    {\n      \"name\": \"send_slack_message\",\n      \"description\": \"Send a message to a Slack channel\",\n      \"parameters\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"channel\": { \"type\": \"string\" },\n          \"text\": { \"type\": \"string\" }\n        },\n        \"required\": [\"channel\", \"text\"]\n      },\n      \"fire_and_forget\": false\n    }\n  ]\n}\n```"
          },
          "max_requests": {
            "type": "integer",
            "description": "Maximum number of LLM round-trips (tool calls) the\nagent is allowed to make before stopping.",
            "minimum": 0
          },
          "mcp_hub_config_json": {
            "type": [
              "string",
              "null"
            ],
            "description": "Optional MCP Hub configuration in JSON string form."
          },
          "model": {
            "type": [
              "string",
              "null"
            ],
            "description": "Model identifier. Accepts `provider/model` or just `model` (provider auto-detected).\n\nExamples:\n- `anthropic/claude-3-sonnet-20241022`\n- `openai/gpt-4`\n- `google_ai/gemini-pro`\n\nAuto-detection shortcuts:\n- `gpt-*` \u2192 OpenAI\n- `claude-*` \u2192 Anthropic\n- `gemini*` \u2192 Google AI"
          },
          "task": {
            "type": "string",
            "description": "The task or prompt for the agent to execute."
          },
          "tool_access": {
            "$ref": "#/components/schemas/AgentToolAccessRequest",
            "description": "Per-category tool access flags."
          },
          "use_json_tool_calls": {
            "type": [
              "boolean",
              "null"
            ],
            "description": "When true, use JSON Schema tool definitions (function\ncalling) instead of XML-based tool parsing. This is\nautomatically enabled when `client_tools` is provided."
          },
          "user_custom_instructions": {
            "type": [
              "string",
              "null"
            ],
            "description": "Custom system-level instructions appended to the\nagent's prompt."
          }
        }
      },
      "AgentMessage": {
        "type": "object",
        "description": "\u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u30e1\u30c3\u30bb\u30fc\u30b8\u30ec\u30b9\u30dd\u30f3\u30b9\u7528\u306e\u30e2\u30c7\u30eb",
        "required": [
          "message_type",
          "content",
          "created_at",
          "id",
          "user_id",
          "chatroom_id",
          "role"
        ],
        "properties": {
          "chatroom_id": {
            "type": "string",
            "description": "TODO: add English documentation"
          },
          "content": {
            "type": "string",
            "description": "TODO: add English documentation"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "description": "Created at"
          },
          "id": {
            "type": "string",
            "description": "TODO: add English documentation"
          },
          "message_type": {
            "type": "string",
            "description": "TODO: add English documentation"
          },
          "role": {
            "type": "string",
            "description": "TODO: add English documentation"
          },
          "user_id": {
            "type": "string",
            "description": "TODO: add English documentation"
          }
        }
      },
      "AgentMessagesResponse": {
        "type": "object",
        "description": "TODO: add English documentation",
        "required": [
          "messages"
        ],
        "properties": {
          "messages": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/AgentChunk"
            },
            "description": "TODO: add English documentation"
          }
        }
      },
      "AgentProtocolMode": {
        "type": "string",
        "enum": [
          "disabled",
          "auto",
          "manual"
        ]
      },
      "AgentSource": {
        "type": "object",
        "description": "Identifies which agent produced a chunk.",
        "required": [
          "chatroom_id"
        ],
        "properties": {
          "chatroom_id": {
            "type": "string"
          }
        }
      },
      "AgentStatusResponse": {
        "type": "object",
        "description": "Response for getting agent status",
        "required": [
          "is_running",
          "progress",
          "state"
        ],
        "properties": {
          "is_running": {
            "type": "boolean",
            "description": "TODO: add English documentation"
          },
          "progress": {
            "type": "integer",
            "format": "int32",
            "description": "TODO: add English documentation",
            "minimum": 0
          },
          "state": {
            "type": "string",
            "description": "TODO: add English documentation"
          }
        }
      },
      "AgentToolAccessRequest": {
        "type": "object",
        "properties": {
          "agent_protocol": {
            "type": [
              "boolean",
              "null"
            ]
          },
          "coding_agent_job": {
            "type": [
              "boolean",
              "null"
            ]
          },
          "command": {
            "type": [
              "boolean",
              "null"
            ]
          },
          "filesystem": {
            "type": [
              "boolean",
              "null"
            ]
          },
          "sub_agent": {
            "type": [
              "boolean",
              "null"
            ],
            "description": "Enable the `execute_sub_agent` tool for spawning child\nagents."
          },
          "url_fetch": {
            "type": [
              "boolean",
              "null"
            ],
            "description": "Enable the `fetch_url` URL scraping tool (Firecrawl API)."
          },
          "web_search": {
            "type": [
              "boolean",
              "null"
            ],
            "description": "Enable the `search_with_llm` web search tool (Google Custom Search)."
          }
        }
      },
      "ApiKeyListResponse": {
        "type": "object",
        "description": "Response for API key list",
        "required": [
          "apiKeys"
        ],
        "properties": {
          "apiKeys": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ApiKeyResponse"
            }
          }
        }
      },
      "ApiKeyResponse": {
        "type": "object",
        "description": "Response for an API key",
        "required": [
          "id",
          "serviceAccountId",
          "name",
          "value",
          "createdAt"
        ],
        "properties": {
          "createdAt": {
            "type": "string"
          },
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "serviceAccountId": {
            "type": "string"
          },
          "value": {
            "type": "string"
          }
        }
      },
      "Ask": {
        "type": "object",
        "description": "Follow-up question with options",
        "required": [
          "text",
          "options"
        ],
        "properties": {
          "options": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "text": {
            "type": "string"
          }
        }
      },
      "AttemptCompletionResult": {
        "type": "object",
        "description": "Task completion result",
        "required": [
          "result"
        ],
        "properties": {
          "command": {
            "type": [
              "string",
              "null"
            ]
          },
          "is_finished": {
            "type": [
              "boolean",
              "null"
            ]
          },
          "result": {
            "type": "string"
          }
        }
      },
      "AuthUrlResponse": {
        "type": "object",
        "required": [
          "url"
        ],
        "properties": {
          "url": {
            "type": "string",
            "description": "OAuth authorization URL"
          }
        }
      },
      "ChatCompletionChunkResponse": {
        "type": "object",
        "required": [
          "id",
          "object",
          "created",
          "model",
          "choices"
        ],
        "properties": {
          "choices": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ChunkChoice"
            }
          },
          "created": {
            "type": "integer",
            "format": "int64"
          },
          "id": {
            "type": "string",
            "example": "chatcmpl-123"
          },
          "model": {
            "type": "string"
          },
          "object": {
            "type": "string",
            "example": "chat.completion.chunk"
          },
          "system_fingerprint": {
            "type": [
              "string",
              "null"
            ]
          }
        }
      },
      "ChatCompletionRequest": {
        "type": "object",
        "description": "Request type for chat completion API",
        "required": [
          "messages"
        ],
        "properties": {
          "communication_style": {
            "type": [
              "string",
              "null"
            ],
            "description": "Communication style preference"
          },
          "explanation_style": {
            "type": [
              "string",
              "null"
            ],
            "description": "Explanation style preference"
          },
          "frequency_penalty": {
            "type": [
              "number",
              "null"
            ],
            "format": "float",
            "description": "Number between -2.0 and 2.0",
            "default": 0,
            "maximum": 2,
            "minimum": -2
          },
          "max_completion_tokens": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int32",
            "description": "The maximum number of tokens to generate",
            "default": 10000
          },
          "memory_settings": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/MemorySettingsRequest",
                "description": "Memory settings for context building"
              }
            ],
            "default": "MemorySettingsRequest { max_memories: 5, min_relevance_score: 0.7 }"
          },
          "messages": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Message"
            },
            "description": "A list of messages comprising the conversation so far"
          },
          "model": {
            "type": [
              "string",
              "null"
            ],
            "description": "ID of the model to use",
            "example": "google_ai:gemini-2.0-flash-exp"
          },
          "n": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int32",
            "description": "How many chat completion choices to generate",
            "default": 1,
            "maximum": 10,
            "minimum": 1
          },
          "presence_penalty": {
            "type": [
              "number",
              "null"
            ],
            "format": "float",
            "description": "Number between -2.0 and 2.0",
            "default": 0,
            "maximum": 2,
            "minimum": -2
          },
          "response_format": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/ResponseFormat",
                "description": "Format to return the response in"
              }
            ]
          },
          "stream": {
            "type": [
              "boolean",
              "null"
            ],
            "description": "Whether to stream back partial progress",
            "default": false
          },
          "technical_level": {
            "type": [
              "string",
              "null"
            ],
            "description": "Technical level preference"
          },
          "temperature": {
            "type": [
              "number",
              "null"
            ],
            "format": "float",
            "description": "What sampling temperature to use, between 0 and 2",
            "default": 1.0,
            "maximum": 2,
            "minimum": 0
          },
          "tool_choice": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/ToolChoice",
                "description": "Controls which (if any) function is called by the model"
              }
            ]
          },
          "tools": {
            "type": [
              "array",
              "null"
            ],
            "items": {
              "$ref": "#/components/schemas/Tool"
            },
            "description": "A list of tools the model may call"
          },
          "top_p": {
            "type": [
              "number",
              "null"
            ],
            "format": "float",
            "description": "An alternative to sampling with temperature",
            "default": 1.0,
            "maximum": 1,
            "minimum": 0
          },
          "user": {
            "type": [
              "string",
              "null"
            ],
            "description": "A unique identifier representing your end-user"
          }
        }
      },
      "ChatCompletionResponse": {
        "type": "object",
        "description": "Response type for chat completion API",
        "required": [
          "id",
          "object",
          "created",
          "model",
          "choices",
          "usage"
        ],
        "properties": {
          "choices": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Choice"
            }
          },
          "created": {
            "type": "integer",
            "format": "int64"
          },
          "id": {
            "type": "string",
            "example": "chatcmpl-123"
          },
          "model": {
            "type": "string"
          },
          "object": {
            "type": "string",
            "example": "chat.completion"
          },
          "usage": {
            "$ref": "#/components/schemas/Usage"
          }
        }
      },
      "ChatCompletionWithChatroomStreamResponse": {
        "type": "object",
        "required": [
          "id",
          "object",
          "model",
          "choices"
        ],
        "properties": {
          "choices": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ChunkChoice"
            },
            "description": "The choices generated"
          },
          "created": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int32",
            "description": "The created timestamp"
          },
          "id": {
            "type": "string",
            "description": "The ID of the response"
          },
          "model": {
            "type": "string",
            "description": "The model used"
          },
          "object": {
            "type": "string",
            "description": "The object type"
          }
        }
      },
      "ChatMessage": {
        "type": "object",
        "required": [
          "id",
          "user_id",
          "chatroom_id",
          "created_at",
          "role",
          "content"
        ],
        "properties": {
          "chatroom_id": {
            "type": "string"
          },
          "content": {
            "$ref": "#/components/schemas/Part"
          },
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "id": {
            "type": "string"
          },
          "role": {
            "$ref": "#/components/schemas/Role"
          },
          "user_id": {
            "type": "string"
          }
        },
        "example": {
          "chatroom_id": "ch_xxxx",
          "content": "Hello, how are you?",
          "created_at": "2021-01-01T00:00:00Z",
          "id": "ch_xxxxx",
          "role": "user",
          "user_id": "us_xxxx"
        }
      },
      "ChatRole": {
        "type": "string",
        "enum": [
          "system",
          "user",
          "assistant"
        ]
      },
      "ChatRoom": {
        "type": "object",
        "required": [
          "id",
          "name",
          "operator_id",
          "owner_id",
          "metadata",
          "created_at",
          "updated_at"
        ],
        "properties": {
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "id": {
            "type": "string"
          },
          "metadata": {
            "$ref": "#/components/schemas/Value",
            "description": "Arbitrary JSON metadata for the chatroom.\nCommon fields include:\n- `user_id`: External user identifier (e.g., LINE user ID) for filtering\n- `comparison_group_id`: ID to group chatrooms for model comparison\n- `comparison_group_name`: Human-readable name for the comparison group"
          },
          "name": {
            "type": "string"
          },
          "operator_id": {
            "type": "string"
          },
          "owner_id": {
            "type": "string"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time"
          }
        },
        "example": {
          "created_at": "2025-01-01T00:00:00Z",
          "id": "ch_xxxxx",
          "metadata": {},
          "name": "New Room",
          "operator_id": "tn_xxxx",
          "owner_id": "us_xxxx",
          "updated_at": "2025-01-01T00:00:00Z"
        }
      },
      "ChatroomNameGeneration": {
        "type": "string",
        "description": "Controls chatroom name auto-generation behavior.",
        "enum": [
          "always",
          "never",
          "first_only"
        ]
      },
      "ChatroomsChatroomIdMessagesGetResponse": {
        "type": "object",
        "required": [
          "messages"
        ],
        "properties": {
          "messages": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ChatMessage"
            }
          }
        }
      },
      "CheckoutRequest": {
        "type": "object",
        "description": "Request body for payment checkout",
        "required": [
          "quoteId",
          "returningUrl"
        ],
        "properties": {
          "quoteId": {
            "type": "string",
            "description": "Quote ID to process payment for"
          },
          "returningUrl": {
            "type": "string",
            "description": "URL to redirect after checkout"
          }
        }
      },
      "CheckoutResponse": {
        "type": "object",
        "description": "Checkout response",
        "required": [
          "sessionId"
        ],
        "properties": {
          "sessionId": {
            "type": "string",
            "description": "Stripe session ID"
          }
        }
      },
      "Choice": {
        "type": "object",
        "description": "Choice type for completion responses",
        "required": [
          "index",
          "message",
          "finish_reason"
        ],
        "properties": {
          "finish_reason": {
            "type": "string"
          },
          "index": {
            "type": "integer",
            "format": "int32"
          },
          "message": {
            "$ref": "#/components/schemas/Message"
          }
        }
      },
      "ChunkChoice": {
        "type": "object",
        "required": [
          "delta",
          "index"
        ],
        "properties": {
          "delta": {
            "$ref": "#/components/schemas/DeltaMessage",
            "description": "The delta message"
          },
          "finish_reason": {
            "type": [
              "string",
              "null"
            ],
            "description": "The finish reason"
          },
          "index": {
            "type": "integer",
            "format": "int32",
            "description": "The index of the choice"
          }
        }
      },
      "ClientListResponse": {
        "type": "object",
        "description": "Client list response",
        "required": [
          "items"
        ],
        "properties": {
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ClientResponse"
            },
            "description": "Client items"
          }
        }
      },
      "ClientResponse": {
        "type": "object",
        "description": "Client response",
        "required": [
          "id",
          "tenantId",
          "name"
        ],
        "properties": {
          "capital": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int32",
            "description": "Capital",
            "minimum": 0
          },
          "corporateNumber": {
            "type": [
              "string",
              "null"
            ],
            "description": "Corporate number"
          },
          "email": {
            "type": [
              "string",
              "null"
            ],
            "description": "Email address"
          },
          "faxNumber": {
            "type": [
              "string",
              "null"
            ],
            "description": "Fax number"
          },
          "founded": {
            "type": [
              "string",
              "null"
            ],
            "description": "Establishment date"
          },
          "headOfficeAddress": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/AddressResponse",
                "description": "Head office address"
              }
            ]
          },
          "id": {
            "type": "string",
            "description": "Client ID"
          },
          "industry": {
            "type": [
              "string",
              "null"
            ],
            "description": "Industry type"
          },
          "listed": {
            "type": [
              "boolean",
              "null"
            ],
            "description": "Listed or unlisted"
          },
          "name": {
            "type": "string",
            "description": "Client name"
          },
          "phoneNumber": {
            "type": [
              "string",
              "null"
            ],
            "description": "Phone number"
          },
          "representative": {
            "type": [
              "string",
              "null"
            ],
            "description": "Representative"
          },
          "tenantId": {
            "type": "string",
            "description": "Tenant ID"
          }
        }
      },
      "ClientToolDefinition": {
        "type": "object",
        "description": "User-defined tool definition sent via the API request.\n\nUses JSON Schema format compatible with OpenAI/Anthropic\nfunction calling. Tool definitions are passed to the LLM\nalongside server built-in tools so the model can decide\nwhen to invoke them.\n\n# Example\n\n```json\n{\n  \"name\": \"query_database\",\n  \"description\": \"Run a read-only SQL query\",\n  \"parameters\": {\n    \"type\": \"object\",\n    \"properties\": {\n      \"sql\": { \"type\": \"string\" }\n    },\n    \"required\": [\"sql\"]\n  },\n  \"fire_and_forget\": false\n}\n```",
        "required": [
          "name",
          "description",
          "parameters"
        ],
        "properties": {
          "description": {
            "type": "string",
            "description": "Human-readable description shown to the LLM so it\ncan decide when to call this tool."
          },
          "fire_and_forget": {
            "type": "boolean",
            "description": "When `true`, the server dispatches the tool call to\nthe client and immediately returns a success message\nto the LLM without waiting for a result submission.\nThe client still receives the `tool_call_pending` SSE\nevent but does not need to call the tool-result\nendpoint. Useful for notifications, webhooks, logging,\nand other side-effect-only operations."
          },
          "name": {
            "type": "string",
            "description": "Unique tool name. Must not collide with server\nbuilt-in tools (e.g. `read_file`, `execute_command`,\n`search_files`). Use descriptive, snake_case names."
          },
          "parameters": {
            "description": "JSON Schema describing the tool's input parameters.\nThe LLM generates arguments conforming to this schema."
          }
        }
      },
      "ContentPart": {
        "type": "object",
        "description": "Content part type for array messages",
        "required": [
          "type"
        ],
        "properties": {
          "text": {
            "type": [
              "string",
              "null"
            ],
            "description": "The text content if type is \"text\""
          },
          "type": {
            "type": "string",
            "description": "The type of the content part",
            "example": "text"
          }
        }
      },
      "CreateApiKeyRequest": {
        "type": "object",
        "description": "Request to create an API key",
        "required": [
          "operatorId",
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Display name for the API key"
          },
          "operatorId": {
            "type": "string",
            "description": "Operator ID"
          }
        }
      },
      "CreateChatRoomRequest": {
        "type": "object",
        "description": "Create chatroom request",
        "properties": {
          "metadata": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/Value",
                "description": "Arbitrary metadata for the chatroom (e.g., comparison_group_id for model comparison)"
              }
            ]
          },
          "name": {
            "type": [
              "string",
              "null"
            ],
            "description": "Name of the chatroom",
            "example": "New Room"
          }
        }
      },
      "CreateChatRoomResponse": {
        "type": "object",
        "description": "Create chatroom response",
        "required": [
          "chatroom"
        ],
        "properties": {
          "chatroom": {
            "$ref": "#/components/schemas/ChatRoom",
            "description": "Created chatroom"
          }
        }
      },
      "CreateClientRequest": {
        "type": "object",
        "description": "Request body for creating a client",
        "required": [
          "name"
        ],
        "properties": {
          "address": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/AddressRequest",
                "description": "Head office address"
              }
            ]
          },
          "capital": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int32",
            "description": "Capital",
            "minimum": 0
          },
          "corporateNumber": {
            "type": [
              "string",
              "null"
            ],
            "description": "Corporate number"
          },
          "createCrm": {
            "type": "boolean",
            "description": "Whether to sync with CRM"
          },
          "email": {
            "type": [
              "string",
              "null"
            ],
            "description": "Email address"
          },
          "faxNumber": {
            "type": [
              "string",
              "null"
            ],
            "description": "Fax number"
          },
          "founded": {
            "type": [
              "string",
              "null"
            ],
            "description": "Establishment date"
          },
          "id": {
            "type": [
              "string",
              "null"
            ],
            "description": "Optional client ID (auto-generated if omitted)"
          },
          "industry": {
            "type": [
              "string",
              "null"
            ],
            "description": "Industry type"
          },
          "listed": {
            "type": [
              "boolean",
              "null"
            ],
            "description": "Listed or unlisted"
          },
          "name": {
            "type": "string",
            "description": "Client name"
          },
          "phoneNumber": {
            "type": [
              "string",
              "null"
            ],
            "description": "Phone number"
          },
          "representative": {
            "type": [
              "string",
              "null"
            ],
            "description": "Representative name"
          }
        }
      },
      "CreateObjectMappingRequest": {
        "type": "object",
        "description": "Request to create an object mapping",
        "required": [
          "entityId",
          "providerName",
          "providerObjectId",
          "objectName"
        ],
        "properties": {
          "entityId": {
            "type": "string",
            "description": "Internal entity ID"
          },
          "objectName": {
            "type": "string",
            "description": "Object type name"
          },
          "providerName": {
            "type": "string",
            "description": "Provider name (e.g., \"HubSpot\")"
          },
          "providerObjectId": {
            "type": "string",
            "description": "External provider object ID"
          }
        }
      },
      "CreateProductRequest": {
        "type": "object",
        "description": "Request body for creating a product",
        "required": [
          "name",
          "status",
          "kind",
          "billingCycle",
          "listPrice"
        ],
        "properties": {
          "billingCycle": {
            "type": "string",
            "description": "Billing cycle: MONTHLY, YEARLY, ONE_TIME"
          },
          "createCrm": {
            "type": "boolean",
            "description": "Whether to sync with CRM"
          },
          "description": {
            "type": [
              "string",
              "null"
            ],
            "description": "Product description"
          },
          "id": {
            "type": [
              "string",
              "null"
            ],
            "description": "Optional product ID (auto-generated if omitted)"
          },
          "imageFileIds": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "File IDs for product images"
          },
          "janCode": {
            "type": [
              "string",
              "null"
            ],
            "description": "JAN code"
          },
          "kind": {
            "type": "string",
            "description": "Product type: PLAN or PRODUCT"
          },
          "listPrice": {
            "type": "integer",
            "format": "int32",
            "description": "List price in smallest currency unit",
            "minimum": 0
          },
          "name": {
            "type": "string",
            "description": "Product name"
          },
          "publicationDescription": {
            "type": [
              "string",
              "null"
            ],
            "description": "Publication display description"
          },
          "publicationName": {
            "type": [
              "string",
              "null"
            ],
            "description": "Publication display name"
          },
          "publicationStatus": {
            "type": [
              "string",
              "null"
            ],
            "description": "Publication status"
          },
          "skuCode": {
            "type": [
              "string",
              "null"
            ],
            "description": "SKU code"
          },
          "status": {
            "type": "string",
            "description": "Product status: DRAFT, ACTIVE, ARCHIVED"
          },
          "upcCode": {
            "type": [
              "string",
              "null"
            ],
            "description": "UPC code"
          },
          "variations": {
            "type": [
              "array",
              "null"
            ],
            "items": {
              "$ref": "#/components/schemas/ProductVariationRequest"
            },
            "description": "Product variations"
          }
        }
      },
      "CreateQuoteRequest": {
        "type": "object",
        "description": "Request body for creating a quote",
        "required": [
          "title",
          "lineItems"
        ],
        "properties": {
          "clientId": {
            "type": [
              "string",
              "null"
            ],
            "description": "Client ID (optional)"
          },
          "lineItems": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/LineItemRequest"
            },
            "description": "Line items"
          },
          "title": {
            "type": "string",
            "description": "Quote title"
          }
        }
      },
      "CreateServiceAccountRequest": {
        "type": "object",
        "description": "Request to create a service account",
        "required": [
          "tenantId",
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Display name"
          },
          "tenantId": {
            "type": "string",
            "description": "Tenant ID the service account belongs to"
          }
        }
      },
      "CreateShippingDestinationRequest": {
        "type": "object",
        "description": "Request to create a shipping destination",
        "required": [
          "firstName",
          "lastName",
          "email"
        ],
        "properties": {
          "address1": {
            "type": [
              "string",
              "null"
            ],
            "description": "Address line 1"
          },
          "address2": {
            "type": [
              "string",
              "null"
            ],
            "description": "Address line 2"
          },
          "city": {
            "type": [
              "string",
              "null"
            ],
            "description": "City"
          },
          "corporateName": {
            "type": [
              "string",
              "null"
            ]
          },
          "departmentName": {
            "type": [
              "string",
              "null"
            ]
          },
          "email": {
            "type": "string"
          },
          "firstName": {
            "type": "string"
          },
          "lastName": {
            "type": "string"
          },
          "phoneNumber": {
            "type": [
              "string",
              "null"
            ]
          },
          "positionName": {
            "type": [
              "string",
              "null"
            ]
          },
          "postalCode": {
            "type": [
              "string",
              "null"
            ],
            "description": "Postal code"
          },
          "state": {
            "type": [
              "string",
              "null"
            ],
            "description": "State/prefecture"
          }
        }
      },
      "CreateUserRequest": {
        "type": "object",
        "required": [
          "operator_id",
          "username",
          "email"
        ],
        "properties": {
          "email": {
            "type": "string"
          },
          "image": {
            "type": [
              "string",
              "null"
            ]
          },
          "operator_id": {
            "type": "string"
          },
          "password": {
            "type": [
              "string",
              "null"
            ]
          },
          "role": {
            "type": [
              "string",
              "null"
            ]
          },
          "username": {
            "type": "string"
          }
        }
      },
      "CreateUserResponse": {
        "type": "object",
        "required": [
          "user"
        ],
        "properties": {
          "user": {
            "$ref": "#/components/schemas/User"
          }
        }
      },
      "DeleteProductResponse": {
        "type": "object",
        "description": "Delete product response",
        "required": [
          "success"
        ],
        "properties": {
          "success": {
            "type": "boolean",
            "description": "Whether the deletion succeeded"
          }
        }
      },
      "DeleteServiceAccountResponse": {
        "type": "object",
        "description": "Response for delete operation",
        "required": [
          "id"
        ],
        "properties": {
          "id": {
            "type": "string"
          }
        }
      },
      "DeltaMessage": {
        "type": "object",
        "properties": {
          "content": {
            "type": [
              "string",
              "null"
            ],
            "description": "The content of the message"
          },
          "role": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/ChatRole",
                "description": "The role of the message author"
              }
            ]
          },
          "tool_calls": {
            "type": [
              "array",
              "null"
            ],
            "items": {
              "$ref": "#/components/schemas/ToolCall"
            },
            "description": "The tool calls"
          }
        }
      },
      "ErrorResponse": {
        "type": "object",
        "description": "Common error response",
        "required": [
          "message"
        ],
        "properties": {
          "message": {
            "type": "string",
            "description": "Error message"
          }
        }
      },
      "EvaluateActionsRequest": {
        "type": "object",
        "description": "Request body: action permission evaluation",
        "properties": {
          "actions": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ActionEvaluationRequest"
            },
            "description": "List of actions to evaluate"
          }
        }
      },
      "EvaluateActionsResponse": {
        "type": "object",
        "description": "Response body",
        "required": [
          "results"
        ],
        "properties": {
          "results": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ActionEvaluationResult"
            },
            "description": "Evaluation result for each action"
          }
        }
      },
      "EvaluatePoliciesBatchRequest": {
        "type": "object",
        "description": "Request to evaluate policies in batch",
        "required": [
          "actions"
        ],
        "properties": {
          "actions": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "List of action names to check"
          }
        }
      },
      "EvaluatePoliciesBatchResponse": {
        "type": "object",
        "description": "Response for batch policy evaluation",
        "required": [
          "results"
        ],
        "properties": {
          "results": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PolicyEvaluationOutcome"
            }
          }
        }
      },
      "Function": {
        "type": "object",
        "description": "Function type for tool definitions",
        "required": [
          "name",
          "description",
          "parameters"
        ],
        "properties": {
          "description": {
            "type": "string",
            "description": "A description of what the function does"
          },
          "name": {
            "type": "string",
            "description": "The name of the function"
          },
          "parameters": {
            "$ref": "#/components/schemas/ToolSchema",
            "description": "The parameters the function accepts"
          },
          "strict": {
            "type": [
              "boolean",
              "null"
            ],
            "description": "Whether to enforce strict parameter validation",
            "default": false
          }
        }
      },
      "FunctionCall": {
        "type": "object",
        "properties": {
          "arguments": {
            "type": [
              "string",
              "null"
            ],
            "description": "The arguments to pass to the function"
          },
          "name": {
            "type": [
              "string",
              "null"
            ],
            "description": "The name of the function"
          }
        }
      },
      "FunctionCallResponse": {
        "type": "object",
        "description": "Function call response type",
        "required": [
          "name",
          "arguments"
        ],
        "properties": {
          "arguments": {
            "type": "string",
            "description": "The arguments passed to the function"
          },
          "name": {
            "type": "string",
            "description": "The name of the function that was called"
          }
        }
      },
      "GetChatroomsResponse": {
        "type": "object",
        "required": [
          "chatrooms",
          "paginator"
        ],
        "properties": {
          "chatrooms": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ChatRoom"
            }
          },
          "paginator": {
            "$ref": "#/components/schemas/OffsetPaginator"
          }
        }
      },
      "IssueQuoteRequest": {
        "type": "object",
        "description": "Request body for issuing a quote",
        "required": [
          "clientId"
        ],
        "properties": {
          "clientId": {
            "type": "string",
            "description": "Client ID to issue the quote to"
          }
        }
      },
      "LineItemRequest": {
        "type": "object",
        "description": "Line item input",
        "required": [
          "productId",
          "quantity",
          "unitPrice"
        ],
        "properties": {
          "discount": {
            "type": "number",
            "format": "float",
            "description": "Discount"
          },
          "id": {
            "type": [
              "string",
              "null"
            ],
            "description": "Line item ID (optional, for updates)"
          },
          "name": {
            "type": [
              "string",
              "null"
            ],
            "description": "Line item name"
          },
          "productId": {
            "type": "string",
            "description": "Product ID"
          },
          "quantity": {
            "type": "integer",
            "format": "int32",
            "description": "Quantity",
            "minimum": 0
          },
          "unitPrice": {
            "type": "number",
            "format": "float",
            "description": "Unit price"
          }
        }
      },
      "LineItemResponse": {
        "type": "object",
        "description": "Line item response",
        "required": [
          "id",
          "name",
          "productId",
          "quantity",
          "unitPrice",
          "discount"
        ],
        "properties": {
          "discount": {
            "type": "number",
            "format": "float",
            "description": "Discount"
          },
          "id": {
            "type": "string",
            "description": "Line item ID"
          },
          "name": {
            "type": "string",
            "description": "Line item name"
          },
          "productId": {
            "type": "string",
            "description": "Product ID"
          },
          "quantity": {
            "type": "integer",
            "format": "int32",
            "description": "Quantity",
            "minimum": 0
          },
          "unitPrice": {
            "type": "number",
            "format": "float",
            "description": "Unit price"
          }
        }
      },
      "MemorySettingsRequest": {
        "type": "object",
        "description": "Memory settings for context building",
        "required": [
          "extract_memory",
          "max_memories",
          "min_relevance_score"
        ],
        "properties": {
          "extract_memory": {
            "type": "boolean",
            "description": "Whether to extract memory from the message",
            "default": true
          },
          "max_memories": {
            "type": "integer",
            "format": "int32",
            "description": "Maximum number of memories to retrieve",
            "default": 5,
            "maximum": 20,
            "minimum": 1
          },
          "min_relevance_score": {
            "type": "number",
            "format": "float",
            "description": "Minimum relevance score for memory retrieval (0.0 to 1.0)",
            "default": 0.7,
            "maximum": 1,
            "minimum": 0
          }
        }
      },
      "Message": {
        "type": "object",
        "description": "Message type for request/response handling",
        "required": [
          "role"
        ],
        "properties": {
          "content": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/MessageContent",
                "description": "The content of the message"
              }
            ]
          },
          "role": {
            "type": "string",
            "description": "The role of the message author",
            "example": "user"
          },
          "tool_calls": {
            "type": [
              "array",
              "null"
            ],
            "items": {
              "$ref": "#/components/schemas/ToolCallResponse"
            },
            "description": "The tool calls made by the assistant"
          }
        }
      },
      "MessageContent": {
        "oneOf": [
          {
            "type": "string"
          },
          {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ContentPart"
            }
          }
        ],
        "description": "Content type for messages"
      },
      "ModelInfo": {
        "type": "object",
        "required": [
          "id",
          "name",
          "provider",
          "supported_features"
        ],
        "properties": {
          "context_window": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int32",
            "example": 200000
          },
          "description": {
            "type": [
              "string",
              "null"
            ],
            "example": "Claude 3 Sonnet model optimized for general-purpose tasks"
          },
          "id": {
            "type": "string",
            "example": "anthropic/claude-3-sonnet-20241022"
          },
          "max_output_tokens": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int32",
            "example": 4096
          },
          "name": {
            "type": "string",
            "example": "claude-3-sonnet-20241022"
          },
          "provider": {
            "type": "string",
            "example": "anthropic"
          },
          "supported_features": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "example": [
              "chat",
              "streaming",
              "function_calling"
            ]
          }
        }
      },
      "ModelsResponse": {
        "type": "object",
        "required": [
          "models",
          "total_count"
        ],
        "properties": {
          "models": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ModelInfo"
            }
          },
          "total_count": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "OAuthCallbackResponse": {
        "type": "object",
        "required": [
          "operatorId"
        ],
        "properties": {
          "operatorId": {
            "type": "string"
          }
        }
      },
      "ObjectMappingItemResponse": {
        "type": "object",
        "description": "Single item in object mapping list",
        "required": [
          "objectMapping"
        ],
        "properties": {
          "objectMapping": {
            "$ref": "#/components/schemas/ObjectMappingResponse"
          },
          "tenantMapping": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/TenantMappingResponse"
              }
            ]
          }
        }
      },
      "ObjectMappingListResponse": {
        "type": "object",
        "description": "Response for object mapping list",
        "required": [
          "items"
        ],
        "properties": {
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ObjectMappingItemResponse"
            }
          }
        }
      },
      "ObjectMappingResponse": {
        "type": "object",
        "description": "Response for an object mapping",
        "required": [
          "entityId",
          "tenantId",
          "providerName",
          "providerPrimaryId",
          "objectName",
          "createdAt",
          "updatedAt"
        ],
        "properties": {
          "createdAt": {
            "type": "string"
          },
          "entityId": {
            "type": "string"
          },
          "objectName": {
            "type": "string"
          },
          "providerName": {
            "type": "string"
          },
          "providerPrimaryId": {
            "type": "string"
          },
          "tenantId": {
            "type": "string"
          },
          "updatedAt": {
            "type": "string"
          }
        }
      },
      "OffsetPaginator": {
        "type": "object",
        "required": [
          "current_page",
          "items_per_page",
          "total_items",
          "total_pages"
        ],
        "properties": {
          "current_page": {
            "type": "integer",
            "format": "int32",
            "minimum": 0
          },
          "items_per_page": {
            "type": "integer",
            "format": "int32",
            "minimum": 0
          },
          "total_items": {
            "type": "integer",
            "format": "int32",
            "minimum": 0
          },
          "total_pages": {
            "type": "integer",
            "format": "int32",
            "minimum": 0
          }
        }
      },
      "Part": {
        "oneOf": [
          {
            "type": "object",
            "required": [
              "text",
              "type"
            ],
            "properties": {
              "text": {
                "type": "string"
              },
              "type": {
                "type": "string",
                "enum": [
                  "text"
                ]
              }
            }
          },
          {
            "type": "object",
            "required": [
              "image",
              "type"
            ],
            "properties": {
              "image": {
                "type": "string",
                "format": "uri"
              },
              "type": {
                "type": "string",
                "enum": [
                  "image"
                ]
              }
            }
          },
          {
            "type": "object",
            "required": [
              "file",
              "type"
            ],
            "properties": {
              "file": {
                "type": "string",
                "format": "uri"
              },
              "type": {
                "type": "string",
                "enum": [
                  "file"
                ]
              }
            }
          },
          {
            "type": "object",
            "required": [
              "tool_call_id",
              "tool_name",
              "args",
              "type"
            ],
            "properties": {
              "args": {
                "type": "string"
              },
              "tool_call_id": {
                "type": "string"
              },
              "tool_name": {
                "type": "string"
              },
              "type": {
                "type": "string",
                "enum": [
                  "tool-call"
                ]
              }
            }
          },
          {
            "type": "object",
            "required": [
              "tool_call_id",
              "tool_name",
              "result",
              "type"
            ],
            "properties": {
              "result": {
                "type": "string"
              },
              "tool_call_id": {
                "type": "string"
              },
              "tool_name": {
                "type": "string"
              },
              "type": {
                "type": "string",
                "enum": [
                  "tool-result"
                ]
              }
            }
          }
        ]
      },
      "PolicyEvaluationOutcome": {
        "type": "object",
        "description": "Single outcome of a batch policy evaluation",
        "required": [
          "action",
          "allowed"
        ],
        "properties": {
          "action": {
            "type": "string"
          },
          "allowed": {
            "type": "boolean"
          },
          "error": {
            "type": [
              "string",
              "null"
            ]
          }
        }
      },
      "PolicyResponse": {
        "type": "object",
        "description": "Response for a policy",
        "required": [
          "id",
          "name",
          "isSystem",
          "createdAt",
          "updatedAt"
        ],
        "properties": {
          "createdAt": {
            "type": "string"
          },
          "description": {
            "type": [
              "string",
              "null"
            ]
          },
          "id": {
            "type": "string"
          },
          "isSystem": {
            "type": "boolean"
          },
          "name": {
            "type": "string"
          },
          "tenantId": {
            "type": [
              "string",
              "null"
            ]
          },
          "updatedAt": {
            "type": "string"
          }
        }
      },
      "ProductListResponse": {
        "type": "object",
        "description": "Paginated product list response",
        "required": [
          "items",
          "totalCount",
          "limit",
          "offset",
          "hasNextPage"
        ],
        "properties": {
          "hasNextPage": {
            "type": "boolean",
            "description": "Whether there is a next page"
          },
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ProductResponse"
            },
            "description": "Product items"
          },
          "limit": {
            "type": "integer",
            "format": "int32",
            "description": "Page limit"
          },
          "offset": {
            "type": "integer",
            "format": "int32",
            "description": "Page offset"
          },
          "totalCount": {
            "type": "integer",
            "description": "Total number of products",
            "minimum": 0
          }
        }
      },
      "ProductResponse": {
        "type": "object",
        "description": "Product response",
        "required": [
          "id",
          "tenantId",
          "name",
          "status",
          "kind",
          "billingCycle",
          "listPrice",
          "publicationStatus",
          "imageFileIds",
          "createdAt",
          "updatedAt"
        ],
        "properties": {
          "billingCycle": {
            "type": "string",
            "description": "Billing cycle"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "Created at"
          },
          "description": {
            "type": [
              "string",
              "null"
            ],
            "description": "Product description"
          },
          "id": {
            "type": "string",
            "description": "Product ID"
          },
          "imageFileIds": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Image file IDs"
          },
          "janCode": {
            "type": [
              "string",
              "null"
            ],
            "description": "JAN code"
          },
          "kind": {
            "type": "string",
            "description": "Product type"
          },
          "listPrice": {
            "type": "integer",
            "format": "int32",
            "description": "List price",
            "minimum": 0
          },
          "name": {
            "type": "string",
            "description": "Product name"
          },
          "publicationDescription": {
            "type": [
              "string",
              "null"
            ],
            "description": "Publication description"
          },
          "publicationName": {
            "type": [
              "string",
              "null"
            ],
            "description": "Publication name"
          },
          "publicationStatus": {
            "type": "string",
            "description": "Publication status"
          },
          "skuCode": {
            "type": [
              "string",
              "null"
            ],
            "description": "SKU code"
          },
          "status": {
            "type": "string",
            "description": "Product status"
          },
          "tenantId": {
            "type": "string",
            "description": "Tenant ID"
          },
          "upcCode": {
            "type": [
              "string",
              "null"
            ],
            "description": "UPC code"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "Updated at"
          }
        }
      },
      "ProductVariationRequest": {
        "type": "object",
        "description": "Product variation input",
        "required": [
          "name",
          "currency",
          "unitAmount"
        ],
        "properties": {
          "code": {
            "type": [
              "string",
              "null"
            ],
            "description": "Variation code"
          },
          "currency": {
            "type": "string",
            "description": "Currency code (e.g. \"JPY\")"
          },
          "metadata": {
            "description": "Arbitrary metadata"
          },
          "name": {
            "type": "string",
            "description": "Variation name"
          },
          "publicationDescription": {
            "type": [
              "string",
              "null"
            ],
            "description": "Publication description"
          },
          "publicationName": {
            "type": [
              "string",
              "null"
            ],
            "description": "Publication name"
          },
          "recurring": {
            "type": [
              "string",
              "null"
            ],
            "description": "Recurring billing frequency"
          },
          "status": {
            "type": [
              "string",
              "null"
            ],
            "description": "Variation status"
          },
          "unitAmount": {
            "type": "integer",
            "format": "int64",
            "description": "Unit amount"
          }
        }
      },
      "PurchaseOrderListResponse": {
        "type": "object",
        "description": "Purchase order list response",
        "required": [
          "items"
        ],
        "properties": {
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PurchaseOrderResponse"
            },
            "description": "Purchase order items"
          }
        }
      },
      "PurchaseOrderResponse": {
        "type": "object",
        "description": "Purchase order response",
        "required": [
          "id",
          "tenantId",
          "clientId",
          "quotesId",
          "lineItems",
          "status",
          "subtotal",
          "tax",
          "total",
          "orderDate",
          "currency"
        ],
        "properties": {
          "billingInfo": {
            "type": [
              "string",
              "null"
            ],
            "description": "Billing information ID"
          },
          "clientId": {
            "type": "string",
            "description": "Client ID"
          },
          "currency": {
            "type": "string",
            "description": "Transaction currency"
          },
          "deliveryDate": {
            "type": [
              "string",
              "null"
            ],
            "description": "Delivery date"
          },
          "id": {
            "type": "string",
            "description": "Purchase order ID"
          },
          "invoiceAddress": {
            "type": [
              "string",
              "null"
            ],
            "description": "Invoice address ID"
          },
          "lineItems": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/LineItemResponse"
            },
            "description": "Line items"
          },
          "orderDate": {
            "type": "string",
            "description": "Order date"
          },
          "quotesId": {
            "type": "string",
            "description": "Quote ID"
          },
          "softwareTenantId": {
            "type": [
              "string",
              "null"
            ],
            "description": "Software tenant ID"
          },
          "status": {
            "type": "string",
            "description": "Order status"
          },
          "subtotal": {
            "type": "number",
            "format": "float",
            "description": "Subtotal"
          },
          "tax": {
            "type": "number",
            "format": "float",
            "description": "Tax rate"
          },
          "tenantId": {
            "type": "string",
            "description": "Tenant ID"
          },
          "total": {
            "type": "number",
            "format": "float",
            "description": "Total amount"
          }
        }
      },
      "QuoteListResponse": {
        "type": "object",
        "description": "Quote list response",
        "required": [
          "items"
        ],
        "properties": {
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/QuoteResponse"
            },
            "description": "Quote items"
          }
        }
      },
      "QuoteResponse": {
        "type": "object",
        "description": "Quote response",
        "required": [
          "id",
          "tenantId",
          "title",
          "lineItems",
          "status",
          "currency",
          "subtotal",
          "tax",
          "total",
          "orderDate",
          "createdAt",
          "updatedAt"
        ],
        "properties": {
          "clientId": {
            "type": [
              "string",
              "null"
            ],
            "description": "Client ID"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "Created at"
          },
          "currency": {
            "type": "string",
            "description": "Transaction currency"
          },
          "id": {
            "type": "string",
            "description": "Quote ID"
          },
          "lineItems": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/LineItemResponse"
            },
            "description": "Line items"
          },
          "orderDate": {
            "type": "string",
            "description": "Order date"
          },
          "softwareTenantId": {
            "type": [
              "string",
              "null"
            ],
            "description": "Software tenant ID"
          },
          "status": {
            "type": "string",
            "description": "Quote status"
          },
          "subtotal": {
            "type": "number",
            "format": "float",
            "description": "Subtotal"
          },
          "tax": {
            "type": "integer",
            "format": "int32",
            "description": "Tax percentage",
            "minimum": 0
          },
          "tenantId": {
            "type": "string",
            "description": "Tenant ID"
          },
          "title": {
            "type": "string",
            "description": "Quote title"
          },
          "total": {
            "type": "number",
            "format": "float",
            "description": "Total amount"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "Updated at"
          },
          "url": {
            "type": [
              "string",
              "null"
            ],
            "description": "Quote URL"
          }
        }
      },
      "RegisterShippingDestinationRequest": {
        "type": "object",
        "description": "Request body for registering a shipping destination",
        "required": [
          "firstName",
          "lastName",
          "email",
          "quoteId"
        ],
        "properties": {
          "address": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/AddressRequest",
                "description": "Shipping address"
              }
            ]
          },
          "corporateName": {
            "type": [
              "string",
              "null"
            ],
            "description": "Corporate name"
          },
          "departmentName": {
            "type": [
              "string",
              "null"
            ],
            "description": "Department name"
          },
          "email": {
            "type": "string",
            "description": "Email address"
          },
          "firstName": {
            "type": "string",
            "description": "First name"
          },
          "lastName": {
            "type": "string",
            "description": "Last name"
          },
          "phoneNumber": {
            "type": [
              "string",
              "null"
            ],
            "description": "Phone number"
          },
          "positionName": {
            "type": [
              "string",
              "null"
            ],
            "description": "Position name"
          },
          "quoteId": {
            "type": "string",
            "description": "Quote ID to associate with"
          }
        }
      },
      "ResponseFormat": {
        "type": "object",
        "description": "Response format type for completion responses",
        "required": [
          "type"
        ],
        "properties": {
          "type": {
            "type": "string",
            "description": "The format type to return the response in",
            "example": "text"
          }
        }
      },
      "Role": {
        "type": "string",
        "enum": [
          "system",
          "user",
          "assistant",
          "tool"
        ]
      },
      "ServiceAccountListResponse": {
        "type": "object",
        "description": "Response for service account list",
        "required": [
          "serviceAccounts"
        ],
        "properties": {
          "serviceAccounts": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ServiceAccountResponse"
            }
          }
        }
      },
      "ServiceAccountResponse": {
        "type": "object",
        "description": "Response for a service account",
        "required": [
          "id",
          "tenantId",
          "name",
          "createdAt"
        ],
        "properties": {
          "createdAt": {
            "type": "string"
          },
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "tenantId": {
            "type": "string"
          }
        }
      },
      "ShippingAvailabilityResponse": {
        "type": "object",
        "description": "Response for shipping availability check",
        "required": [
          "available"
        ],
        "properties": {
          "available": {
            "type": "boolean"
          }
        }
      },
      "ShippingDestinationResponse": {
        "type": "object",
        "description": "Shipping destination response",
        "required": [
          "id"
        ],
        "properties": {
          "id": {
            "type": "string",
            "description": "Shipping destination ID"
          }
        }
      },
      "SignInWithPlatformRequest": {
        "type": "object",
        "required": [
          "platform_id",
          "access_token"
        ],
        "properties": {
          "access_token": {
            "type": "string"
          },
          "allow_sign_up": {
            "type": [
              "boolean",
              "null"
            ],
            "default": true
          },
          "email": {
            "type": [
              "string",
              "null"
            ]
          },
          "name": {
            "type": [
              "string",
              "null"
            ]
          },
          "platform_id": {
            "type": "string"
          }
        }
      },
      "SignInWithPlatformResponse": {
        "type": "object",
        "required": [
          "user"
        ],
        "properties": {
          "user": {
            "$ref": "#/components/schemas/User"
          }
        }
      },
      "SoftwareDeliveryResponse": {
        "type": "object",
        "description": "Response for software delivery",
        "required": [
          "id",
          "orderId",
          "accessUrl",
          "status",
          "deliveredAt",
          "createdAt",
          "updatedAt"
        ],
        "properties": {
          "accessUrl": {
            "type": "string"
          },
          "createdAt": {
            "type": "string"
          },
          "deliveredAt": {
            "type": "string"
          },
          "id": {
            "type": "string"
          },
          "orderId": {
            "type": "string"
          },
          "status": {
            "type": "string"
          },
          "updatedAt": {
            "type": "string"
          }
        }
      },
      "TenantMappingResponse": {
        "type": "object",
        "description": "Tenant mapping info",
        "required": [
          "tenantId",
          "providerName",
          "providerTenantId"
        ],
        "properties": {
          "providerName": {
            "type": "string"
          },
          "providerTenantId": {
            "type": "string"
          },
          "tenantId": {
            "type": "string"
          }
        }
      },
      "Text": {
        "type": "object",
        "description": "Text content chunk",
        "required": [
          "index",
          "text"
        ],
        "properties": {
          "index": {
            "type": "integer",
            "format": "int32",
            "minimum": 0
          },
          "text": {
            "type": "string"
          }
        }
      },
      "Thinking": {
        "type": "object",
        "description": "Thinking/reasoning content chunk",
        "required": [
          "index",
          "text",
          "is_finished"
        ],
        "properties": {
          "index": {
            "type": "integer",
            "format": "int32",
            "minimum": 0
          },
          "is_finished": {
            "type": "boolean"
          },
          "text": {
            "type": "string"
          }
        }
      },
      "Tool": {
        "type": "object",
        "description": "Tool type for function calling",
        "required": [
          "type",
          "function"
        ],
        "properties": {
          "function": {
            "$ref": "#/components/schemas/Function",
            "description": "The function definition"
          },
          "type": {
            "type": "string",
            "description": "The type of the tool (currently only \"function\" is supported)",
            "example": "function"
          }
        }
      },
      "ToolCall": {
        "type": "object",
        "description": "Represents a tool call event",
        "required": [
          "tool_id",
          "tool_name"
        ],
        "properties": {
          "tool_id": {
            "type": "string"
          },
          "tool_name": {
            "type": "string"
          }
        }
      },
      "ToolCallArgs": {
        "type": "object",
        "description": "Represents tool call arguments",
        "required": [
          "tool_id",
          "args"
        ],
        "properties": {
          "args": {},
          "tool_id": {
            "type": "string"
          }
        }
      },
      "ToolCallPending": {
        "type": "object",
        "description": "SSE event indicating a client-side tool call is pending.\n\nEmitted when the LLM invokes a user-defined client tool.\nThe client should execute the tool using the provided\n`args` and submit the result via the tool-result endpoint,\nunless `fire_and_forget` is `true`.\n\nSSE event name: `tool_call_pending`",
        "required": [
          "tool_id",
          "tool_name",
          "args"
        ],
        "properties": {
          "args": {
            "description": "Arguments generated by the LLM, conforming to the\nJSON Schema defined in the tool's `parameters`."
          },
          "fire_and_forget": {
            "type": "boolean",
            "description": "When `true`, the server does not wait for the client\nto submit a tool result \u2014 the LLM continues\nimmediately. The client may still execute the tool\nfor its side effects."
          },
          "tool_id": {
            "type": "string",
            "description": "Unique identifier for this tool call. Use this value\nas `tool_id` when submitting the result."
          },
          "tool_name": {
            "type": "string",
            "description": "Name of the client-defined tool the LLM wants to call."
          }
        }
      },
      "ToolCallResponse": {
        "type": "object",
        "description": "Tool call response type",
        "required": [
          "id",
          "type",
          "function"
        ],
        "properties": {
          "function": {
            "$ref": "#/components/schemas/FunctionCallResponse",
            "description": "The function call details"
          },
          "id": {
            "type": "string",
            "description": "The ID of the tool call"
          },
          "type": {
            "type": "string",
            "description": "The type of the tool call",
            "example": "function"
          }
        }
      },
      "ToolChoice": {
        "type": "string",
        "description": "Tool choice type for function calling",
        "enum": [
          "auto",
          "any"
        ]
      },
      "ToolResult": {
        "type": "object",
        "description": "Represents a tool execution result",
        "required": [
          "tool_id",
          "result",
          "is_finished"
        ],
        "properties": {
          "is_finished": {
            "type": "boolean"
          },
          "result": {
            "type": "string"
          },
          "tool_id": {
            "type": "string"
          }
        }
      },
      "ToolSchema": {
        "type": "object",
        "description": "Schema type for tool parameters",
        "required": [
          "type",
          "properties",
          "required"
        ],
        "properties": {
          "properties": {},
          "required": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "type": {
            "type": "string"
          }
        }
      },
      "UpdateChatroomRequest": {
        "type": "object",
        "properties": {
          "metadata": {
            "oneOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/components/schemas/Value",
                "description": "Arbitrary metadata for the chatroom (e.g., comparison_group_id for model comparison)"
              }
            ]
          },
          "name": {
            "type": [
              "string",
              "null"
            ],
            "description": "Updated chatroom name",
            "example": "Daily standup notes"
          }
        }
      },
      "UpdateChatroomResponse": {
        "type": "object",
        "required": [
          "chatroom"
        ],
        "properties": {
          "chatroom": {
            "$ref": "#/components/schemas/ChatRoom",
            "description": "Updated chatroom"
          }
        }
      },
      "UpdateProductRequest": {
        "type": "object",
        "description": "Request body for updating a product",
        "properties": {
          "billingCycle": {
            "type": [
              "string",
              "null"
            ],
            "description": "Billing cycle"
          },
          "description": {
            "type": [
              "string",
              "null"
            ],
            "description": "Product description"
          },
          "imageFileIds": {
            "type": [
              "array",
              "null"
            ],
            "items": {
              "type": "string"
            },
            "description": "Updated image file IDs"
          },
          "janCode": {
            "type": [
              "string",
              "null"
            ],
            "description": "JAN code"
          },
          "kind": {
            "type": [
              "string",
              "null"
            ],
            "description": "Product type"
          },
          "listPrice": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int32",
            "description": "List price",
            "minimum": 0
          },
          "name": {
            "type": [
              "string",
              "null"
            ],
            "description": "Product name"
          },
          "publicationDescription": {
            "type": [
              "string",
              "null"
            ],
            "description": "Publication description"
          },
          "publicationName": {
            "type": [
              "string",
              "null"
            ],
            "description": "Publication name"
          },
          "publicationStatus": {
            "type": [
              "string",
              "null"
            ],
            "description": "Publication status"
          },
          "skuCode": {
            "type": [
              "string",
              "null"
            ],
            "description": "SKU code"
          },
          "status": {
            "type": [
              "string",
              "null"
            ],
            "description": "Product status"
          },
          "upcCode": {
            "type": [
              "string",
              "null"
            ],
            "description": "UPC code"
          },
          "variations": {
            "type": [
              "array",
              "null"
            ],
            "items": {
              "$ref": "#/components/schemas/UpdateProductVariationRequest"
            },
            "description": "Updated variations"
          }
        }
      },
      "UpdateProductVariationRequest": {
        "type": "object",
        "description": "Update variation input",
        "required": [
          "id"
        ],
        "properties": {
          "code": {
            "type": [
              "string",
              "null"
            ],
            "description": "Variation code"
          },
          "currency": {
            "type": [
              "string",
              "null"
            ],
            "description": "Currency code"
          },
          "id": {
            "type": "string",
            "description": "Variation ID"
          },
          "metadata": {
            "description": "Arbitrary metadata"
          },
          "name": {
            "type": [
              "string",
              "null"
            ],
            "description": "Variation name"
          },
          "publicationDescription": {
            "type": [
              "string",
              "null"
            ],
            "description": "Publication description"
          },
          "publicationName": {
            "type": [
              "string",
              "null"
            ],
            "description": "Publication name"
          },
          "recurring": {
            "type": [
              "string",
              "null"
            ],
            "description": "Recurring billing frequency"
          },
          "status": {
            "type": [
              "string",
              "null"
            ],
            "description": "Variation status"
          },
          "unitAmount": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int64",
            "description": "Unit amount"
          }
        }
      },
      "UpdateServiceAccountRequest": {
        "type": "object",
        "description": "Request to update a service account",
        "properties": {
          "name": {
            "type": [
              "string",
              "null"
            ]
          }
        }
      },
      "Usage": {
        "type": "object",
        "description": "Token usage statistics",
        "required": [
          "prompt_tokens",
          "completion_tokens",
          "total_tokens"
        ],
        "properties": {
          "cache_creation_input_tokens": {
            "type": [
              "integer",
              "null"
            ],
            "minimum": 0
          },
          "cache_read_input_tokens": {
            "type": [
              "integer",
              "null"
            ],
            "minimum": 0
          },
          "completion_tokens": {
            "type": "integer",
            "minimum": 0
          },
          "prompt_tokens": {
            "type": "integer",
            "minimum": 0
          },
          "total_cost": {
            "type": [
              "number",
              "null"
            ],
            "format": "double"
          },
          "total_tokens": {
            "type": "integer",
            "minimum": 0
          }
        }
      },
      "User": {
        "type": "object",
        "required": [
          "id",
          "role"
        ],
        "properties": {
          "email": {
            "type": [
              "string",
              "null"
            ]
          },
          "id": {
            "type": "string"
          },
          "name": {
            "type": [
              "string",
              "null"
            ]
          },
          "role": {
            "type": "string"
          }
        }
      },
      "UserListResponse": {
        "type": "object",
        "description": "Response DTO for user list",
        "required": [
          "users"
        ],
        "properties": {
          "users": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/UserResponse"
            }
          }
        }
      },
      "UserMessage": {
        "type": "object",
        "description": "User message content",
        "required": [
          "text",
          "id",
          "user_id",
          "created_at"
        ],
        "properties": {
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "id": {
            "type": "string"
          },
          "text": {
            "type": "string"
          },
          "user_id": {
            "type": "string"
          }
        }
      },
      "UserResponse": {
        "type": "object",
        "description": "Response DTO for a user",
        "required": [
          "id",
          "role",
          "tenants"
        ],
        "properties": {
          "email": {
            "type": [
              "string",
              "null"
            ]
          },
          "id": {
            "type": "string"
          },
          "name": {
            "type": [
              "string",
              "null"
            ]
          },
          "role": {
            "type": "string"
          },
          "tenants": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "Value": {},
      "VerifyRequest": {
        "type": "object",
        "required": [
          "token"
        ],
        "properties": {
          "token": {
            "type": "string"
          }
        }
      },
      "VerifyResponse": {
        "type": "object",
        "required": [
          "user"
        ],
        "properties": {
          "user": {
            "$ref": "#/components/schemas/User"
          }
        }
      }
    }
  },
  "tags": [
    {
      "name": "feature_flags",
      "description": "Feature Flag action authorization API"
    },
    {
      "name": "chat",
      "description": "Chat Completion API"
    },
    {
      "name": "chatroom",
      "description": "Chatroom management API"
    },
    {
      "name": "agent",
      "description": "Agent Execution API"
    },
    {
      "name": "models",
      "description": "Model Information API"
    },
    {
      "name": "Order - Products",
      "description": "Product management API"
    },
    {
      "name": "Order - Quotes",
      "description": "Quote management API"
    },
    {
      "name": "Order - Clients",
      "description": "Client management API"
    },
    {
      "name": "Order - Purchase Orders",
      "description": "Purchase order API"
    },
    {
      "name": "Order - Shipping",
      "description": "Shipping destination API"
    },
    {
      "name": "Order - Checkout",
      "description": "Payment checkout API"
    },
    {
      "name": "CRM - Object Mappings",
      "description": "CRM provider object mapping management"
    },
    {
      "name": "Delivery - Shipping",
      "description": "Shipping destination management"
    },
    {
      "name": "Delivery - Software",
      "description": "Software delivery management"
    },
    {
      "name": "Auth - Verify",
      "description": "Token verification"
    },
    {
      "name": "Auth - Users",
      "description": "User management"
    },
    {
      "name": "Auth - Service Accounts",
      "description": "Service account management"
    },
    {
      "name": "Auth - API Keys",
      "description": "API key management"
    },
    {
      "name": "Auth - Policies",
      "description": "Policy and action management"
    },
    {
      "name": "Auth - OAuth",
      "description": "OAuth integration"
    }
  ]
}