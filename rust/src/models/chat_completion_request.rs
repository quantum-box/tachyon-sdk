/*
 * Tachyon API
 *
 * Tachyon Platform REST API
 *
 * The version of the OpenAPI document: 0.49.3
 * 
 * Generated by: https://openapi-generator.tech
 */

use crate::models;
use serde::{Deserialize, Serialize};

/// ChatCompletionRequest : Request type for chat completion API
#[derive(Clone, Default, Debug, PartialEq, Serialize, Deserialize)]
pub struct ChatCompletionRequest {
    /// Communication style preference
    #[serde(rename = "communication_style", default, with = "::serde_with::rust::double_option", skip_serializing_if = "Option::is_none")]
    pub communication_style: Option<Option<String>>,
    /// Explanation style preference
    #[serde(rename = "explanation_style", default, with = "::serde_with::rust::double_option", skip_serializing_if = "Option::is_none")]
    pub explanation_style: Option<Option<String>>,
    /// Number between -2.0 and 2.0
    #[serde(rename = "frequency_penalty", default, with = "::serde_with::rust::double_option", skip_serializing_if = "Option::is_none")]
    pub frequency_penalty: Option<Option<f32>>,
    /// The maximum number of tokens to generate
    #[serde(rename = "max_completion_tokens", default, with = "::serde_with::rust::double_option", skip_serializing_if = "Option::is_none")]
    pub max_completion_tokens: Option<Option<i32>>,
    /// Memory settings for context building
    #[serde(rename = "memory_settings", default, with = "::serde_with::rust::double_option", skip_serializing_if = "Option::is_none")]
    pub memory_settings: Option<Option<Box<models::MemorySettingsRequest>>>,
    /// A list of messages comprising the conversation so far
    #[serde(rename = "messages")]
    pub messages: Vec<models::Message>,
    /// ID of the model to use
    #[serde(rename = "model", default, with = "::serde_with::rust::double_option", skip_serializing_if = "Option::is_none")]
    pub model: Option<Option<String>>,
    /// How many chat completion choices to generate
    #[serde(rename = "n", default, with = "::serde_with::rust::double_option", skip_serializing_if = "Option::is_none")]
    pub n: Option<Option<i32>>,
    /// Number between -2.0 and 2.0
    #[serde(rename = "presence_penalty", default, with = "::serde_with::rust::double_option", skip_serializing_if = "Option::is_none")]
    pub presence_penalty: Option<Option<f32>>,
    /// Format to return the response in
    #[serde(rename = "response_format", default, with = "::serde_with::rust::double_option", skip_serializing_if = "Option::is_none")]
    pub response_format: Option<Option<Box<models::ResponseFormat>>>,
    /// Whether to stream back partial progress
    #[serde(rename = "stream", default, with = "::serde_with::rust::double_option", skip_serializing_if = "Option::is_none")]
    pub stream: Option<Option<bool>>,
    /// Technical level preference
    #[serde(rename = "technical_level", default, with = "::serde_with::rust::double_option", skip_serializing_if = "Option::is_none")]
    pub technical_level: Option<Option<String>>,
    /// What sampling temperature to use, between 0 and 2
    #[serde(rename = "temperature", default, with = "::serde_with::rust::double_option", skip_serializing_if = "Option::is_none")]
    pub temperature: Option<Option<f32>>,
    /// Controls which (if any) function is called by the model
    #[serde(rename = "tool_choice", default, with = "::serde_with::rust::double_option", skip_serializing_if = "Option::is_none")]
    pub tool_choice: Option<Option<models::ToolChoice>>,
    /// A list of tools the model may call
    #[serde(rename = "tools", default, with = "::serde_with::rust::double_option", skip_serializing_if = "Option::is_none")]
    pub tools: Option<Option<Vec<models::Tool>>>,
    /// An alternative to sampling with temperature
    #[serde(rename = "top_p", default, with = "::serde_with::rust::double_option", skip_serializing_if = "Option::is_none")]
    pub top_p: Option<Option<f32>>,
    /// A unique identifier representing your end-user
    #[serde(rename = "user", default, with = "::serde_with::rust::double_option", skip_serializing_if = "Option::is_none")]
    pub user: Option<Option<String>>,
}

impl ChatCompletionRequest {
    /// Request type for chat completion API
    pub fn new(messages: Vec<models::Message>) -> ChatCompletionRequest {
        ChatCompletionRequest {
            communication_style: None,
            explanation_style: None,
            frequency_penalty: None,
            max_completion_tokens: None,
            memory_settings: None,
            messages,
            model: None,
            n: None,
            presence_penalty: None,
            response_format: None,
            stream: None,
            technical_level: None,
            temperature: None,
            tool_choice: None,
            tools: None,
            top_p: None,
            user: None,
        }
    }
}

